{% extends "./base.html" %}

{% block body %}
<div class="container mt-5">

    <table id="myTable" class="display table table-border">
        <thead>
            <tr>
                <th>IP</th>
                <th>City</th>
                <th>Region</th>
                <th>Country</th>
                <th>Location</th>
                <th>Org</th>
                <th>Postal</th>
            </tr>
        </thead>
        <tbody>
            {% for ip in obj %}
            <tr>
                <td>{{ip.ip}}</td>
                <td>{{ip.city}}</td>
                <td>{{ip.region}}</td>
                <td>{{ip.country}}</td>
                <td><a target="_blank" href="https://www.google.com/maps?q={{ip.loc}}">{{ip.loc}}</a></td>
                <td>{{ip.org}}</td>
                <td>{{ip.postal}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.dataTables.css" />
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.0/css/buttons.dataTables.min.css" />
<script src="https://cdn.datatables.net/2.0.8/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.0/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.0/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.0/js/buttons.print.min.js"></script>

<script>
    $(document).ready(function () {
        $('#myTable').DataTable({
            dom: 'Bfrtip',
            buttons: [
                'copy', 'csv', 'excel', 'pdf', 'print'
            ]
        });
    });
</script>
{% endblock body %}
